<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veda One</title>
    
    <link rel="icon" href="https://api.iconify.design/twemoji/om.svg?color=%23d4af37" type="image/svg+xml">
    
    <link rel="stylesheet" href="style.css">
    
    <script src="https://d3js.org/d3.v7.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Serif+Devanagari:wght@400;600&display.swap" rel="stylesheet">
</head>
<body>
    <div id="loading">
        <div id="loading-media-container"></div>
        <div id="loading-text">Loading the cosmos...</div>
    </div>
    <div id="error" style="display: none;"><div id="error-message"></div></div>

    <!-- NEW HEADER STRUCTURE -->
    <header id="main-header">
        <h1 id="main-title">Veda One</h1>
        <div id="top-right-controls">
            <a id="developer-link" href="https://dear.is-a.dev/" target="_blank" rel="noopener noreferrer">Visit Developer</a>
            <button id="info-btn" title="Note from Developer">i</button>
            <button id="guide-btn" title="How to Use">?</button>
        </div>
    </header>

    <div id="cta-container">
        <p id="subtitle">10,552 Verses from the 10 mandalas of the Rigveda. what you see is the rig veda with each circle being a mandal and each dot being a verse. press button below or zoom in to any random dot- to know your message for the day from the eternal text</p>
        <button id="random-verse-btn">🌠 See what the Veda has to say to you</button>
    </div>

    <div id="viz-container"><svg id="network-svg"></svg></div>

    <div id="network-controls">
        <button class="control-btn" id="zoom-in" title="Zoom In">+</button>
        <button class="control-btn" id="zoom-out" title="Zoom Out">−</button>
        <button class="control-btn" id="reset-view" title="Reset View">↺</button>
    </div>

    <!-- Verse Modal -->
    <div id="modal-backdrop">
        <div id="modal">
            <div class="modal-close-btn">×</div>
            <button id="speaker-btn" title="Text-to-Speech">🔊</button>
            <div id="modal-header"></div>
            <div id="modal-tags"></div>
            <div id="modal-devanagari"></div>
            <div id="modal-transliteration"></div>
            <div id="modal-translation"></div>
            <div id="modal-nav">
                <div>
                    <button class="nav-btn" id="prev-btn">← Previous</button>
                    <button class="nav-btn" id="random-btn">🎲 New Verse</button>
                    <button class="nav-btn" id="next-btn">Next →</button>
                </div>
                <p class="modal-footer-note">or come back tomorrow for tomorrow's message</p>
            </div>
        </div>
    </div>
    
    <!-- Info Modal -->
    <div id="info-modal-backdrop">
        <div id="modal">
            <div class="modal-close-btn">×</div>
            <h2 class="info-header">Note from Dev</h2>
            <ul>
                <li>This was developed in 2 days.</li>
                <li>All verses are stored in a database; there is not even one verse skipped.</li>
                <li>Translation for some verses has been skipped due to the unavailability of copyright-free material.</li>
            </ul>
            <p class="info-footer">Wishing you all the best in reviving the culture.</p>
        </div>
    </div>
    
    <!-- Guide Modal -->
    <div id="guide-modal-backdrop">
        <div id="modal">
            <div id="guide-steps-container">
                <div class="guide-step">
                    <h2 class="info-header">🌕 Rigveda — 10,552 Verses of Eternal Wisdom</h2>
                    <p class="guide-text">Each circle represents a Mandal, and every dot within it a verse — a spark of divine knowledge.</p>
                </div>
                <div class="guide-step">
                    <h2 class="info-header">🔍 Explore</h2>
                    <p class="guide-text">Zoom in on any Mandal to wander through its sacred verses, or tap any dot to receive your message of the day from the eternal Rigveda.</p>
                </div>
                <div class="guide-step">
                    <h2 class="info-header">✨ Let Destiny Guide You</h2>
                    <p class="guide-text">Let destiny guide your touch — each verse reveals a timeless truth meant for you.</p>
                </div>
            </div>
            <div id="guide-nav">
                <button class="guide-nav-btn" id="guide-skip-btn">Skip</button>
                <div id="guide-step-counter">1 / 3</div>
                <div>
                    <button class="guide-nav-btn" id="guide-back-btn">Back</button>
                    <button class="guide-nav-btn" id="guide-next-btn">Next</button>
                    <button class="guide-nav-btn" id="guide-close-btn">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>